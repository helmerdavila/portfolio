---
title: 'CPanel: Obtener certificados SSL gratis (no root)'
description: Ya que algunos proveedores de almacenamiento compartido (hosting) te atan a venderte un certificado SSL.
date: 2022-05-01
published: true
image: ../../src/images/blog/keys.jpg
embeddedImagesLocal:
  - cpanel.png
---

# CPanel: Obtener certificados SSL gratis (no root)

import { GatsbyImage, getImage } from 'gatsby-plugin-image';

Ya que algunos proveedores de almacenamiento compartido (hosting) te atan a venderte un certificado SSL. Con la ayuda del script `acme.sh`, puedes obtener certificados SSL gratis siguiendo estas instrucciones:

## üìà Ve a la terminal en tu CPanel o con√©ctate con SSH

<GatsbyImage image={getImage(props.localImages[0])} alt="CPanel" />

## ‚¨áÔ∏è Descarga el script [acme.sh](http://acme.sh/)

```bash
curl https://get.acme.sh | sh
```

## üîÉ Refresca la terminal

Sal y vuelve a entrar a la terminal o simplemente ejecuta

```bash
source ~/.bashrc
```

## ‚úâÔ∏è Registra el certificado con tu correo electr√≥nico

```bash
acme.sh ‚Äî-register-account ‚Äî-accountemail youremail@yourdomain.com
```

## ‚è∞ Comprueba si el cronjob fue habilitado por acme

```bash
crontab -l | grep acme.sh
```

Este comando deber√≠a mostrar algo como esto:

```bash
10 0 * * * ‚Äú/home/*YOUR_CPANEL_USER*/.acme.sh‚Äù/acme.sh ‚Äî- cron ‚Äî- home ‚Äú/home/*YOUR_CPANEL_USER*/.acme.sh‚Äù > /dev/null
```

## üì¶ Configura las variables del dominio en la terminal

```bash
export DOMAIN=yourdomain.com
# Presiona enter y despu√©s escribe
export WWWDOMAIN=www.yourdomain.com
# No te olvides de presionar enter nuevamente
```

## üîë Comprueba si la generaci√≥n de certificado funcion√≥

Before testing if generate the certificate is allowed. You need the path of the domain / subdomain from your Cpanel. Execute the following command and you‚Äôll get the path

Antes de comprobar si la generaci√≥n de certificados es permitida. Necesitas el directorio del dominio / subdominio de tu CPanel. Ejecuta el siguiente comando y obtendr√°s el directorio.

```bash
export DOMAINPATH=$(uapi DomainInfo single_domain_data domain=$DOMAIN | grep documentroot| cut -d " " -f 6)
```

El resultado se almacenar√° en **DOMAINPATH**

Despu√©s, puedes usar Acme para generar un certificado de **STAGING**

```bash
acme.sh ‚Äî-issue ‚Äî-webroot ${DOMAINPATH} -d ${DOMAIN} -d ${WWWDOMAIN} ‚Äî-staging
```

> S√≥lo agregar `-d $WWWDOMAIN`, si est√°s usando un alias `www` en tu dominio.

Si recibes mensajes o checks de color verde. ¬°Felicidades! Ya puedes generar certificados en tu cuenta CPanel.

## üçÑ Genera un certificado SSL real

```bash
acme.sh ‚Äî-issue ‚Äî-webroot ${DOMAINPATH} -d ${DOMAIN} -d ${WWWDOMAIN} ‚Äî-force
```

## ‚ûï Agrega tu certificado a CPanel

```bash
acme.sh ‚Äî-deploy ‚Äî-deploy-hook cpanel_uapi ‚Äî-domain ${DOMAIN} --domain ${WWWDOMAIN}
```

> Recuerda, necesitar√°s repetir cada paso desde ‚ÄúConfigura las variables del dominio en la terminal‚Äù en adelante por cada dominio / subdominio cuando quieras agregarlo.
